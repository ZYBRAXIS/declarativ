<!doctype html>
<html lang="en">
<head>
    <title>Basic - Declarativ Examples</title>
</head>
<body>
    <div id="render-target"></div>
    <script type="text/javascript" src="https://unpkg.com/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../dist/declarativ.js"></script>
    <script>
        const { renderElement, compose, elements: el } = declarativ;

        // lorem ipsum Promise (async example)
        let lorem = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve([
                    "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam fermentum posuere euismod. Aliquam ultricies, libero cursus sollicitudin egestas, diam tortor molestie tortor, a pellentesque tellus libero id lectus.",
                    "Integer sed urna at felis pretium elementum. Integer sed turpis vehicula, consectetur turpis non, fringilla quam. Nullam elementum quis enim vel venenatis. Phasellus purus turpis, pellentesque congue fermentum sed, sollicitudin et magna.",
                    "Nullam quis tellus quis enim dapibus cursus in ut tortor. Cras et nisl augue. Sed tellus ipsum, posuere quis feugiat eget, bibendum id eros. Fusce cursus, metus ac aliquam mollis, orci purus sodales erat, vitae cursus urna elit sed arcu.",
                ]);
            }, 2500);
        });

        // first template example
        const details = compose((inner, data) => `
            <details>
                <summary>${data.text || 'This is a summary.'}</summary>
                ${inner}
            </details>
        `);

        // second template example (just use a function)
        const describedItem = function(title, content) {
            return el.div(
                el.h3(title),
                el.p(content)
            )
        };

        renderElement(
            document.getElementById("render-target"),
            el.div(
                el.p("Hello!"),
                el.button("Click me!"),       // set event listeners (this is literally just passed to the element)
                el.hr(),
                el.article().bind(lorem).forEach(                                   // data can be bound to a Promised value - the branch waits for it to resolve before rendering
                    el.p((data) => data)                                            // elements can be repeated for each item in a bound iterable (the array of lorem ipsum paragraphs)
                ),
                details("This is a bunch of fun templated content.").bind({ text: "Content content, templated content" }),
                describedItem("This is another type of templated content.", "It works a little bit differently - as a function call, instead of a composed element. Most of the time, this method is easier to work with.")
            )
        );
    </script>
</body>
</html>
